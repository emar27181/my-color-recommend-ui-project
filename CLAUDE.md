# 📘 色推薦アプリ・プロジェクトルール集

このドキュメントは、色推薦アプリプロジェクトの開発・デザイン・操作に関する統一ルールをまとめています。  
すべてのセッションで、この規約に従って開発してください。

---

## 🔒 Git運用ルール

### 1. mainブランチでは直接作業・コミットしない
- 作業は必ず `feature/xxx` のような **作業用ブランチ**で行うこと
- `main` はPull Requestによってマージされる前提の安定ブランチとする

### 2. コミット前に必ず確認する
- コードの編集や変更があっても、**即座に `git commit` しない**
- 編集が完了した時点で**必ずユーザーに「コミットしますか？」と確認すること**
- ユーザーの明示的な許可がない限り、勝手にコミットしてはならない
- 確認なしでのコミットは**絶対禁止**

### 3. 論理単位ごとにコミットを分ける
- 関数の定義・UIの更新・設定ファイルの生成など、
  **仕様や構造の変更があるたびに1つずつコミット**すること
- 複数機能の変更を1コミットにまとめない（履歴の可読性を保つため）

### 4. コミット・デプロイは必ずユーザー許可を得る
- **git commit** と **netlify deploy --prod** は**必ずユーザーの明示的な許可を得てから実行する**こと
- 「コミットして」「デプロイして」という指示があった場合のみ実行可能
- 勝手にコミット・デプロイすることは**厳禁**
- その他の操作（`git init`, `npm install`, ディレクトリ作成など）は許可済みとみなす

### 5. ログを`CHANGELOG.md`に残す
- 作業した内容ログを`CHANGELOG.md`に残すこと
  - いつどのファイルの何の機能を追加したのか
  - どのような要望が提示されていたのか
  - どのようなバグをデバッグしたのか等

### 6. 決まった要件を`PROJECT_RULES.md`に更新すること
- チャット内の会話，または指示文で決まった要件は随時`PROJECT_RULES.md`に更新する
  - UIの表示形式や，固定値など以降の変更しないように決まったもの

---


## 📁 その他の開発ルール

- 依存パッケージの追加や設定ファイルの修正も、1コミットにまとめず**論理単位で履歴に残す**
- コードにエラーがある状態でのコミットは禁止（ビルド・型エラーがない状態で行う）

### ホームページレイアウト保護ルール
- **ホームページ（http://localhost:5173/）のレイアウトは変更禁止**
- 現在のレイアウト構成（`src/constants/layout.ts`）を維持すること
- 表示されるコンポーネント:
  - 0. キャンバス（canvasColorRecommendation）
  - 1. ベース色選択（baseColor）
  - 2. 色相推薦（colorRecommendation）
  - 3. トーン推薦（toneRecommendation）
  - α. 肌色推薦（skinColor）
  - β. 使用色相/トーン抽出（hueToneExtraction）
- 非表示のコンポーネント:
  - T1. カラーパレット（massColorGrid）
  - T2. 色相環＋トーンスライダー（hueWheelToneSlider）
- レイアウト変更が必要な場合は、必ずユーザーに確認してから実施すること

### デプロイメント
- **本番デプロイ**: `netlify deploy --prod` コマンドでNetlifyにプロダクションデプロイ
- **デプロイURL**: https://color-recommend.netlify.app
- **自動ビルド**: Netlify側で `npm run build` が実行される

---

## 🎯 基本テーマ設定

### テーマ切り替え
- **デフォルト**: ダークモード（黒背景）
- **切り替え方法**: ページ右上のナビゲーションバーにThemeToggleボタン
- **アイコン**: 太陽（ライト）⇔ 月（ダーク）
- **即座反映**: クリック時にリアルタイムでテーマ変更

### 言語切り替え
- **対応言語**: 日本語（デフォルト）⇔ 英語
- **配置**: ヘッダー右側、ナビゲーションメニューの左隣
- **アイコン**: `Languages`（lucide-react）
- **表示**: 「JP」⇔「EN」テキストラベル
- **デザイン**: 完全透明ボタン（`bg-transparent border-transparent hover:bg-transparent hover:border-transparent`）
- **実装**: `react-i18next`ライブラリ使用、localStorage永続化
- **自動検出**: ブラウザ言語から初期言語設定

---

## 🎨 キャンバス塗りつぶし機能仕様

### フラッドフィル（塗りつぶし）アルゴリズム設定
- **実装場所**: `src/components/PaintCanvas.tsx` の `floodFill` 関数
- **アルゴリズム**: スタックベース + ビットマップ最適化フラッドフィル
- **隙間ブリッジ機能**: 小さな隙間を越えて閉じた領域を塗りつぶし

### 調整可能パラメータ（コード上部に配置）
```typescript
const colorTolerance = 8;        // 色の許容閾値（0-255）
const gapBridgeDistance = 3;     // 隙間をブリッジする最大距離（px）
const gapSearchRadius = 1;       // 隙間検索時の探索半径（px）
```

### 動作仕様
- **基本塗りつぶし**: 色差8以下の同色領域を塗りつぶし
- **隙間ブリッジ**: 最大3px幅の隙間を越えて同色領域に到達可能
- **厳格条件**: 隙間は2px以下、到達先の80%以上が同色の場合のみ
- **方向制限**: 水平・垂直方向のみ（斜め除外）、1方向のみブリッジ
- **パフォーマンス**: ビットマップ訪問管理、マンハッタン距離計算で高速化

### 防止機能
- **全体塗りつぶし防止**: 厳格な条件により意図しない広範囲塗りつぶしを回避
- **重複処理防止**: ビットマップによる効率的な訪問済み管理
- **無限ループ防止**: 範囲外チェックと訪問済みチェック

---

## 🎨 色表示ブロック統一仕様

### ColorBlock基本規格
- **要素**: `<div>` または `<canvas>`（表示互換性重視）
- **サイズ**: 48px × 48px（固定）
- **境界線**: `border-2 border-gray-300`
- **角丸**: `rounded-sm`（2px）
- **ホバー効果**: `hover:scale-110 transition-transform`
- **背景色**: `style={{ backgroundColor: color }}`（CSS変数より直接指定優先）

### 実装参照
- **統一コンポーネント**: `src/components/common/ColorBlock.tsx`
- **定数定義**: `src/constants/ui.ts` の `COLOR_BLOCK_SPEC`

---

## 🎨 カラーピッカー統一ルール

### デザインパターン
- **採用パターン**: カラーボックス内中央配置の Palette アイコン
- **アイコン**: `lucide-react` の `Palette`
- **配置**: カラーボックスの中央に直接配置
- **サイズ統一**: ColorItemと同じサイズ（デスクトップ46x46px、モバイル24x24px）
- **コントラスト対応**: ベースカラーの明度に応じてアイコン色を動的変更

### 技術実装
- **input要素**: カラーボックス全体に透明オーバーレイ (`absolute inset-0 opacity-0 z-10`)
- **イベント制御**: カラーボックスに `pointer-events-none` でクリックを透過
- **アイコン色算出**: `chroma.js`でlightness取得、0.5基準で明暗切り替え
  - 明るい色: `#374151` (gray-700)
  - 暗い色: `#f9fafb` (gray-50)
- **ホバー効果**: `hover:scale-110` で全体スケールアップ

### レイアウト仕様
- **デスクトップ**: 46x46px（COLOR_BLOCK_SPECの実際の色表示エリア）
- **モバイル**: 24x24px（ColorItemのcompactモードと統一）
- **アイコンサイズ**: デスクトップ20px、モバイル12px
- **ボーダー**: `BORDER_PRESETS.colorBlock` 統一仕様

---

## 📋 コピーボタン統一ルール

### デザイン方針
- **表示**: アイコンのみ（テキストラベル禁止）
- **アイコン**: `lucide-react` の `Copy` / `Check`
- **状態**: 通常時 = Copy、成功時 = Check（緑色）
- **UI参照**: 必ず現在の `src/components/common/CopyColorButton.tsx` の実装を基準とする

### バリアント
1. **minimal**: アイコンのみ、丸ボタン
2. **compact**: アイコンのみ、角丸ボタン  
3. **full**: アイコンのみ、大きめボタン

### 実装ルール
- **コンポーネント参照**: 新規作成時は `CopyColorButton` の現在の状態を必ず参照
- **アイコンサイズ**: `w-4 h-4`（16px）統一
- **インラインスタイル**: SimpleTest等では `<Copy size={16} />` 形式
- **統一性**: 全プロジェクトで同じ見た目・動作を保つ

### 可視性
- **表示**: `opacity-80 hover:opacity-100`（常時表示）
- **group-hover**: 使用禁止（ユーザビリティのため）

---

## 📐 レイアウト設計原則

### アプリケーション全体レイアウト

#### 統一レイアウト構造（2025-07-01更新）
- **全ページ共通**: Layoutコンポーネント（`src/components/Layout.tsx`）でラップ
- **グローバルヘッダー**: ナビゲーションメニュー + ボタン群（チュートリアル・スワイプ・ヘルプ・テーマ切り替え）
- **統一ナビゲーション**: 全ページで同じヘッダーナビゲーションを表示
- **レスポンシブヘッダー**: `border-b border-border bg-background flex-shrink-0`

#### メインレイアウト構造
- **コンテナ**: `container mx-auto` でセンタリング
- **モバイル/タブレット** (< 1280px): 縦積みレイアウト `space-y-6`
- **デスクトップ** (≥ 1280px): グリッドレイアウト
  - 上段: 3列グリッド `grid-cols-3 gap-6`
  - 下段: 2列グリッド `grid-cols-2 gap-6`

#### 主要コンポーネント配置
1. **ColorPicker** - 手動色選択（左上/モバイル1番目）
2. **ImageUpload** - 画像アップロード（中央上/モバイル2番目）
3. **ExtractedColorsDisplay** - 抽出色表示（右上/モバイル3番目）
4. **ColorRecommendations** - 色推薦（左下/モバイル4番目）
5. **ToneRecommendations** - トーン推薦（右下/モバイル5番目）

### レイアウト原則
- **水平優先**: 色ブロック + コピーボタン + HEXコードを横並び
- **グリッド**: 色表示4列、配色技法2-6列
- **スペーシング**: `gap-3` (12px) 統一、モバイル超コンパクト（`mb-1`, `pt-1 pb-0`）

---

## 🔤 フォント・タイポグラフィ

- **メイン**: Outfit（`font-sans`）- 本文・説明
- **見出し**: Space Grotesk（`font-heading`）- タイトル
- **ディスプレイ**: Syne（`font-display`, `font-stylish`）- 強調・ラベル
- **コード**: Space Mono（`font-mono`）- HEXコード

---

## 🎛 配色技法設定

### 表示形式ルール
- **形式**: `○○配色(x色): (説明文)` の統一フォーマット
- **例**: `ダイアード配色(2色): 対照的な色相の組み合わせ`
- **色数**: `angles` 配列の長さに基づく自動表示
- **説明**: 配色技法の特徴を簡潔に説明

### ボタンデザイン
- **形状**: コンパクトな角丸ボタン
- **配置**: 2-6列のレスポンシブグリッド
- **状態**: 選択時 = `bg-primary`、非選択時 = `bg-muted`

---

## 🚫 禁止事項

### 避けるべき実装
1. **縦長レイアウト**: 色表示の縦並び配置
2. **コピーボタンテキスト**: 「コピー」「Copy」等の文字表示
3. **group-hover隠し**: `opacity-0 group-hover:opacity-100`
4. **日本語配色技法名**: 「補色配色」「三角配色」等
5. **Canvas強制**: 表示されない場合はdivに切り替え
6. **コピーアイコンの独自実装**: 必ず `CopyColorButton.tsx` の現在のUIを参照・統一

### CSS変数依存回避
- Tailwindのカスタム変数が効かない場合は **インラインスタイル** を優先
- `style={{ backgroundColor: color }}` 等の直接指定を使用

---

## ✅ 品質チェックリスト

新しいコンポーネント作成時は以下を確認：

- [ ] ColorBlockは48px固定サイズか
- [ ] コピーボタンはアイコンのみか
- [ ] 水平レイアウトを維持しているか
- [ ] ライト・ダークモード両方で表示されるか
- [ ] レスポンシブデザインに対応しているか
- [ ] TypeScriptエラーがないか
- [ ] 配色技法名は英語か

---

## 🌈 色推薦表示ルール

### グラデーション並び替え
- **ソート**: `sortColorsByLightness`関数で明→暗順（chroma.js lightness値使用）
- **対象**: 色相推薦・トーン推薦の両方

### レイアウト
- **色ブロック**: 48px × 48px（PC）、40px × 40px（モバイル）
- **配置**: 色ブロック → コピーボタン → HEXコード
- **グリッド**: 4列（PC・モバイル共通）

### モバイル最適化
- **余白**: `pt-1 pb-0`（超コンパクト）、最終セクション`mb-0`
- **タイトル**: `text-xs leading-tight`
- **ボタン**: `px-2 py-1 text-xs`

### 肌色推薦
- **固定色**: 10色（色白系→やや褐色系）、ベース色+頬色ペア×5段階
- **コンポーネント**: `SkinColorRecommendations.tsx`

---

## 🎨 ボーダー・スタイリング統一

### 原則
- **一元管理**: `src/constants/ui.ts` の `BORDER_PRESETS` で統一
- **基準角丸**: `rounded` (4px) を基準

### プリセット
- **カラーブロック**: 透明枠線 + 小さい角丸
- **カード**: 細い枠線 + 中程度角丸
- **ボタン**: 透明枠線 + 中程度角丸

### ルール
- ハードコード禁止、必ず `BORDER_PRESETS` 使用

---

## 🎨 アイコン統一ルール

- **色**: すべてのアイコンに `text-foreground`（テーマ自動対応）
- **ライブラリ**: `lucide-react`
- **選定**: [lucide.dev](https://lucide.dev) から適切なアイコン選択
- **禁止**: 固定色クラス（`text-red-500`等）使用禁止

---

## 🎨 色相環UI視覚補助ルール

### 基本仕様
- **表示トリガー**: 配色技法選択ドロップダウンのホバー時に表示
- **目的**: 色相環における配色関係の視覚的理解を補助
- **認知負荷軽減**: 必要時のみ表示し、常時表示による情報過多を回避

### デバイス別動作仕様

#### PC版 (マウス操作)
- **表示方法**: マウスカーソル追従表示
- **位置調整**: 画面端はみ出し時は自動位置調整
- **非表示**: マウスリーブ時・選択完了時に即座に非表示
- **背景**: 不透明背景 (`bg-card`)

#### モバイル版 (タッチ操作)  
- **表示方法**: 画面中央固定表示
- **自動非表示**: 3秒後に自動で非表示
- **背景**: 半透明背景 (`bg-card/80 backdrop-blur-sm`)
- **タップ操作**: PC版マウスイベントと分離処理

### 色相環コンポーネント仕様

#### サイズ構成 (固定値管理)
- **外枠半径**: 125px (containerRadius)
- **色相環半径**: 115px (wheelRadius) 
- **プロット配置半径**: 86px (plotRadius)
- **表示枠サイズ**: 200px × 200px

#### 視覚要素
- **中心点**: 4px半径の円、全要素の最前面表示
- **配色点**: 4px半径の円、統一サイズ
- **接続線**: 中心から全配色点への実線接続
- **軌道線**: プロット配置位置を示す点線円
- **外枠**: 色相環境界を示す枠線

#### 角度計算とプロット
- **基準角度**: 配色技法の`angles`配列を使用
- **座標計算**: `(angle - 90) * Math.PI / 180` で真上基準
- **ベースカラー**: angle=0として真上(12時位置)に配置
- **色相関係**: 純粋な配色技法角度関係を表示

### 実装技術仕様

#### React Portal使用
- **DOM配置**: `createPortal(element, document.body)`
- **目的**: 親要素のstacking context制約回避
- **固定位置**: `position: fixed`で画面基準配置

#### デバイス検出
- **判定条件**: User-Agent + 画面幅768px以下
- **分離処理**: PC/モバイルでイベントハンドリング分離
- **最適化**: デバイス特性に応じたUX提供

### ファイル構成
- **メインコンポーネント**: `src/components/common/ColorWheel.tsx`
- **統合コンポーネント**: `src/components/ColorRecommendations.tsx` 
- **データソース**: `src/store/colorStore.ts` の `COLOR_SCHEMES.angles`
- **設定ルール**: 本`PROJECT_RULES.md`ファイル

---

## 🔄 レイアウト変更履歴

### 現在（2025-08-21）
- **デスクトップ**: 2列 [キャンバス 2/3, メインツール 1/3]
- **βセクション**: 横並び（色相環 + 彩度明度プロット）

### 過去レイアウト復元方法
- `/src/constants/layout.ts` で3列レイアウト設定変更可能
- βセクション縦並び: `/src/components/HueToneExtraction.tsx` で `flex-col` に変更

---

## 📱 レイアウト・アーキテクチャ

### 基本構造
- **全体**: Layout.tsx（全ページ共通ヘッダー・ナビゲーション）
- **レスポンシブ**: モバイル（縦積み）⇔ デスクトップ（グリッド）
- **ブレークポイント**: xl (1280px) でレイアウト切り替え

### グリッド・スペーシング
- **色推薦**: 4列グリッド（PC・モバイル共通）
- **トーン推薦**: 4列グリッド
- **ギャップ**: `gap-3` (12px)
- **モバイル余白**: 超コンパクト設計（`mb-1`, `pt-1 pb-0`）

### カード構造
- **基本**: Card（統一border-presets）
- **ヘッダー**: `pb-1 pt-2`
- **コンテンツ**: `pt-0 pb-0`
- **オーバーフロー**: `min-h-0` で制御

---

## 🎯 スワイプ式色推薦ページ仕様

### スワイプページ基本設計
- **ルート**: `/swipe`
- **レイアウト**: フルスクリーン背景、カード中央配置
- **操作方法**: 水平スワイプジェスチャーによる評価
- **画面制約**: 上下スクロール完全禁止、h-screen w-screen固定

### カードデザイン仕様
- **モバイル**: `w-[80vw] max-w-sm` - レスポンシブ幅
- **PC版**: `w-[640px] h-[400px]` - 黄金比（8:5）固定サイズ
- **カード構造**: `w-full` で親コンテナに合わせて調整
- **角丸**: `rounded-[2rem]` - 大きな角丸で現代的デザイン

### アニメーション・インタラクション
- **回転制限**: `Math.max(-30, Math.min(30, dragX * 0.15))` - ±30度まで
- **スワイプ閾値**: 100px または velocity 500px/s
- **フェードアウト**: `x: ±300, opacity: 0` でカード退場
- **スプリングアニメーション**: `stiffness: 300, damping: 30`

### UI要素配置
- **ナビゲーション要素**: レスポンシブ位置設定 `justify-between`
  - モバイル: `top-8 left-6 right-6`
  - PC: `top-12 left-12 right-12`
- **戻るボタン**: `<ArrowLeft>` - ホームページ（/）へのナビゲーション
- **カウンター表示**: 中央配置、透明背景、`color: textColor` のみ
- **お気に入りボタン**: `<Star>` - パレットをお気に入りに追加、填充で状態表示
- **ボタンスタイル**: 完全透明（`backgroundColor: transparent`, `border: transparent`）
- **スクロール制御**: position:fixed + touchmove preventDefault

### 背景・レイアウト
- **フルスクリーン**: `h-screen w-screen` - デバイス全画面使用
- **余白除去**: html, body, #root すべて margin:0 padding:0
- **背景色**: `bg-background`でテーマ対応（白/黒）
- **カード色**: 各パレットのmainColorがカード背景
- **コンテンツ配置**: `flex-1 flex items-center justify-center`

### ナビゲーション連携
- **ホームページアクセス**: ヘッダー右側に`ClipboardPenLine`アイコンで`/swipe`リンク
- **戻る機能**: スワイプページから`ArrowLeft`ボタンで`/`へ戻る
- **お気に入り機能**: `Star`アイコンで配色パレットをローカル保存

---

## 🧪 実験ページUI仕様

### 基本仕様
- **ルート**: `/experiment`, `/experiment/task`, `/experiment/complete`
- **目的**: 色推薦UI評価実験用インターフェース

### デザイン原則
- **ミニマルデザイン**: 明確な情報階層、十分なホワイトスペース
- **視覚的理解促進**: アイコン・色分けで直感的に情報伝達
- **条件色分け**: C0（灰）、C1（青）、C2（紫）、C3（緑）

### 実験タスクページの表示制御
- **非表示**: skinColor（α）、hueToneExtraction（β）を常に非表示
- **自動展開**: C1〜C3では該当する推薦セクションを自動展開
- **目的**: 認知負荷軽減、タスク集中促進

### デバッグモード重要注意事項
- **デフォルト**: デバッグモードはオフ
- **有効化**: URLに `?debug=true` を追加した場合のみ有効化
- **ナビゲーションバー**: 実験ページボタンは `?debug=true` 付きリンク
- **本番実験時**: URLパラメータなし、または `?debug=false` で実施すること
- **自動入力の危険性**: デバッグモードでは参加者情報・アンケートが自動入力される
  - **重要**: アンケート自動入力により `surveyResponse` がストアに保存される
  - この状態で実験を開始すると、アンケート画面がスキップされる
  - **対策**: 実験開始時（`startFullExperiment`）で必ず `surveyResponse: null` をリセット
  - **対策**: 実験リセット時（`resetExperiment`）でも `surveyResponse: null` をリセット
- **ストア永続化の禁止**: `experimentStore` は Zustand の persist 機能を使用しない
  - リロード時に状態がリセットされることで、デバッグデータの混入を防ぐ
- **開発時の注意**: デバッグモードで実験を実行した後は、必ずリロードして状態をクリア

### 実験説明ページ（ExperimentInstructionPage）UI仕様
- **レイアウト**: 動画とUIプレビュー画像を横二列で配置
- **画像サイズ**: `max-w-[320px]`（320px固定）
- **動画**: 16:9アスペクト比を維持
- **Test1**: 動画なし、UIプレビュー画像のみ中央表示（320px）
- **Test2**: 動画（左）とUIプレビュー画像（右）を横並びで表示（320px）
- **画像パス**:
  - Test1: `/images/UI_test/image_T1.png`
  - Test2: `/images/UI_test/image_T3.png`（二段階推薦の画像）

---

## 🔧 技術仕様

### 色推薦アルゴリズム
- **色相推薦**: HSL色空間での角度操作、13種類の配色技法
- **トーン推薦**: 明度・彩度の段階的変化
- **ソート**: `chroma.js` lightness値で明→暗順

### CSS・スタイリング
- **ダークモード**: class-based切り替え、CSS変数ベース
- **フォント**: Outfit（メイン）、Space Grotesk（見出し）、Space Mono（コード）、Syne（スタイリッシュ）
- **ブレークポイント**: xs(475px), sm(640px), md(768px), lg(1024px), xl(1280px), 2xl(1536px)

---

## 🧹 コード整理ルール

- **実験的コンポーネント禁止**: `*Test.tsx` 形式は作成しない
- **本番コンポーネント優先**: 機能は本番用コンポーネントで実装
- **未使用ファイル削除**: import されていないコンポーネントは削除

---

## 🎡 色相環UI視覚補助ルール

### 基本仕様
- **表示条件**: 配色技法ドロップダウンのホバー/タップ時
- **PC**: マウスカーソル追従、ホバー制御
- **モバイル**: タップ位置表示、3秒自動非表示
- **コンポーネント**: `ColorWheel.tsx`（React Portal使用）
- **角度計算**: `(angle - 90) * Math.PI / 180` でベースカラー真上配置


---

## 📱 スワイプ式色推薦ページ仕様

### 基本仕様
- **ルート**: `/swipe`
- **コンポーネント**: `SwipeRecommender.tsx`
- **目的**: スワイプ操作による配色評価UI

### デザイン
- **背景**: メインカラーがフルスクリーン背景
- **カード**: 角丸32px、画面幅80%、極薄透明背景
- **タイポグラフィ**: Space Mono（HEX）、Syne（ラベル）、Space Grotesk（メタ情報）

### 機能
- **スワイプ**: framer-motion + react-swipeable（左=Dislike、右=Like）
- **評価記録**: like/dislike配列で保持
- **データ**: `src/data/palettes.json`（10件の配色パレット）

---

## 📝 技術スタック・アーキテクチャ概要

### 使用技術
- **色処理**: ColorThief + chroma-js（色抽出・色空間計算）
- **状態管理**: Zustand
- **UI**: shadcn/ui + Tailwind CSS
- **配色技法**: 13種類（Identity, Analogous, Dyad, Triad, Tetrad, Split, Pentad, Hexad等）

### 主要コンポーネント
- **レイアウト**: Layout.tsx（全ページ共通）
- **色表示**: ColorBlock.tsx、ColorItem.tsx、ColorGrid.tsx
- **機能**: ColorPicker.tsx、ColorRecommendations.tsx、ToneRecommendations.tsx、ImageUpload.tsx

---

## 🚧 既知の課題

### 白色検出問題
- 画像から白色の正確な抽出が困難（ColorThiefアルゴリズムの制約）

### レスポンシブ表示問題
- 一部のブレークポイントで期待通りに動作しない箇所あり

---

**最終更新**: 2025-07-03  
**適用プロジェクト**: 色推薦アプリ プロジェクト全体  

このルールは、Claude Code セッションが毎回リセットされることを考慮して、**毎回最初に貼って読み込ませてください。**